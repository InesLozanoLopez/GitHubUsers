(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[374],{3982:function(e,s,a){Promise.resolve().then(a.bind(a,7845))},8159:function(e,s,a){"use strict";a.d(s,{$T:function(){return fetchUserFollowing},d1:function(){return fetchUserFollowers},iI:function(){return fetchUsersList},r3:function(){return fetchUserDetails}});var l=a(666);let fetchUsersList=async e=>{let{setUserData:s}=e,a=new l.v;try{let e=await a.request("GET /users",{headers:{"X-GitHub-Api-Version":"2022-11-28"}});if(e){let a=await e.data.map(e=>({id:e.id,url:e.url}));s(a)}}catch(e){throw e}},fetchUserDetails=async e=>{let{url:s,setUserData:a}=e;try{let e=await fetch(s);if(e){let s=await e.json();a(s)}}catch(e){throw e}},fetchUserFollowers=async e=>{let{url:s,setUsersAvatar:a}=e;try{let e=await fetch(s);if(e){let s=await e.json();a(s)}else throw Error("Error ".concat(e))}catch(e){throw e}},fetchUserFollowing=async e=>{let{login:s,setUsersAvatar:a}=e,t=new l.v;try{let e=await t.request("GET /users/{login}/following",{login:s,headers:{"X-GitHub-Api-Version":"2022-11-28"}});if(e){let s=await e.data;a(s)}}catch(e){throw e}}},7845:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return UserDetails}});var l=a(7437);a(4172);var t=a(2265),i=a(8159);let toCapitaliseFirstLetter=e=>null==e?e:"string"==typeof e.charAt(0)?e.charAt(0).toLocaleUpperCase()+e.slice(1):e;var n=a(4033),r=a(6691),o=a.n(r);function UsersFollow(e){let{url:s,login:a}=e,[n,r]=(0,t.useState)([]),[c,d]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{a?(0,i.$T)({login:a,setUsersAvatar:r}).then(()=>d(!1)):(0,i.d1)({url:s,setUsersAvatar:r}).then(()=>d(!1))},[s,a]),(0,l.jsxs)("section",{className:"followCarrussel","aria-label":a?"Following section":"Followers section",children:[(0,l.jsx)("div",{children:(0,l.jsx)("h3",{children:a?"Following: ".concat(n.length):"Followers: ".concat(n.length)})}),c?(0,l.jsx)("div",{className:"avatarContainer",children:(0,l.jsx)("div",{className:"avatarImgContainer",role:"presentation","aria-label":"Loading content",children:(0,l.jsx)(o(),{className:"avatarImg",src:"/loadingImg.gif",alt:"Loading...",width:100,height:100,priority:!0})})}):(0,l.jsx)("div",{className:"avatarContainer",children:n&&n.map(e=>(0,l.jsx)("div",{className:"avatarImgContainer",role:"presentation","aria-label":"Users avatar",children:(0,l.jsx)(o(),{className:"avatarImg",src:null==e?void 0:e.avatar_url,alt:"".concat(a,"'s ").concat(a?"Following: ".concat(n.length):"Followers: ".concat(n.length)),width:100,height:100,priority:!0})},e.id))})]})}function UserDetails(){var e;let[s,a]=(0,t.useState)(null),{login:r}=(0,n.useParams)(),c="https://api.github.com/users/".concat(r),d=(0,n.useRouter)();(0,t.useEffect)(()=>{(0,i.r3)({url:c,setUserData:a})},[c]);let handleBacktoUserListClick=()=>{d.push("/")};return(0,l.jsx)(l.Fragment,{children:s&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("header",{children:(0,l.jsxs)("section",{className:"userPageHead","aria-label":"User Information",children:[(0,l.jsxs)("h1",{children:[" ",toCapitaliseFirstLetter(null==s?void 0:s.login)," "]}),(0,l.jsx)("div",{className:"headInfo",children:(0,l.jsxs)("p",{children:["Repositories: ",null==s?void 0:s.public_repos]})})]})}),(0,l.jsxs)("main",{children:[(0,l.jsxs)("section",{className:"userDetailsContainer","aria-label":"User Details",children:[(0,l.jsxs)("div",{className:"detailsBlock",children:[(null==s?void 0:s.name)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"detailsLine",children:"Name:"}),(0,l.jsx)("p",{className:"userInfo",children:null==s?void 0:s.name})]}),(null==s?void 0:s.location)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"detailsLine",children:"Location:"}),(0,l.jsx)("p",{className:"userInfo",children:null==s?void 0:s.location})]}),(null==s?void 0:s.company)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{className:"detailsLine",children:[(null==s?void 0:null===(e=s.company)||void 0===e?void 0:e.length)>1?"Companies":"Company",":"]}),(0,l.jsx)("p",{className:"userInfo",children:null==s?void 0:s.company})]})]}),(0,l.jsx)("div",{className:"detailsImgContainer",children:(0,l.jsx)(o(),{className:"detailsImg",src:null==s?void 0:s.avatar_url,alt:"".concat(null==s?void 0:s.login,"'s avatar"),width:200,height:200,loading:"lazy"})}),(0,l.jsxs)("div",{className:"detailsBlock",children:[(null==s?void 0:s.twitter_username)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"detailsLine",children:"Twitter:"}),(0,l.jsxs)("p",{className:"userInfo",children:["@",null==s?void 0:s.twitter_username]})]}),(null==s?void 0:s.twitter_username)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"detailsLine",children:"Blog:"}),(0,l.jsx)("p",{className:"userInfo",children:(null==s?void 0:s.blog)&&(0,l.jsx)("a",{href:s.blog,target:"_blank",rel:"noopener noreferrer",children:"Link to the blog"})})]})]})]}),(0,l.jsx)("hr",{className:"horizontalLines"}),(0,l.jsx)("section",{"aria-label":"Followers",children:(0,l.jsx)(UsersFollow,{url:null==s?void 0:s.followers_url})}),(0,l.jsx)("hr",{className:"horizontalLines"}),(0,l.jsxs)("div",{className:"userPageBottomBackground",children:[(0,l.jsx)("hr",{className:"horizontalLines light"}),(0,l.jsxs)("section",{"aria-label":"Following",children:[(0,l.jsx)(UsersFollow,{url:null==s?void 0:s.following_url,login:null==s?void 0:s.login}),(0,l.jsx)(o(),{className:"catImg",src:"/catImg.png",alt:"Cat imagen",width:100,height:100,priority:!0})]}),(0,l.jsx)("hr",{className:"horizontalLines light"}),(0,l.jsx)("section",{className:"userPageBottom",children:(0,l.jsx)("button",{className:"button",title:"User List","aria-label":"Click to Users List",onClick:()=>handleBacktoUserListClick(),children:"Users List"})})]})]})]})})}a(5445)},4172:function(){},5445:function(){}},function(e){e.O(0,[67,971,864,744],function(){return e(e.s=3982)}),_N_E=e.O()}]);